{% extends '::base.html.twig' %}

{% block content %}

    <div class="row">
        <div class="col-xs-6  text-center">
            <table class="table">
                {% for user in users %}
                    <tr>
                        <td> {{ user.id }} </td>
                        <td> {{ user.username }} </td>
                        <td> {{ user.chatRoleAsText }}</td>
                        {% if user.chatRoleAsText == 'user' %}
                            <td>
                                <a class="btn btn-success" href="{{ path('chat_admin_change', {id : user.id, role : 'moderator'}) }}">
                                    Promote as moderator
                                </a>
                            </td>
                            <td>
                                <a class="btn btn-success" href="{{ path('chat_admin_change', {id : user.id, role : 'administrator'}) }}">
                                    Promote as administrator
                                </a>
                            </td>
                        {% endif %}
                        {% if user.chatRoleAsText == 'moderator' %}
                            <td>
                                <a class="btn btn-success" href="{{ path('chat_admin_change', {id : user.id, role : 'administrator'}) }}">
                                    Promote as administrator
                                </a>
                            </td>
                            <td>
                                <a class="btn btn-success" href="{{ path('chat_admin_change', {id : user.id, role : 'moderator'}) }}">
                                    Demote to user
                                </a>
                            </td>
                        {% endif %}
                        {% if user.chatRoleAsText == 'administrator' %}
                            <td>
                                <a class="btn btn-success" href="{{ path('chat_admin_change', {id : user.id, role : 'moderator'}) }}">
                                    Demote to moderator
                                </a>
                            </td>
                            <td>
                                <a class="btn btn-success" href="{{ path('chat_admin_change', {id : user.id, role : 'user'}) }}">
                                    Demote to user
                                </a>
                            </td>
                        {% endif %}
                    </tr>
                {% endfor %}
            </table>

        </div>
    </div>
{% endblock %}